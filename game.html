<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏´‡∏°‡∏µ‡πÄ‡∏Å‡πá‡∏ö‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 50%, #FFE4B5 100%);
            overflow: hidden;
            height: 100vh;
        }
        
        .name-credit {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 14px;
            color: #8B4513;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
            z-index: 1000;
        }
        
        .game-container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .score-board {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
            color: #8B4513;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
            z-index: 100;
        }
        
        .bear {
            width: 60px;
            height: 60px;
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 50px;
            transition: left 0.1s ease;
            z-index: 10;
        }
        
        .honey {
            width: 30px;
            height: 30px;
            position: absolute;
            font-size: 25px;
            animation: fall linear;
        }
        
        .obstacle {
            width: 40px;
            height: 40px;
            position: absolute;
            font-size: 35px;
            animation: fall linear;
        }
        
        @keyframes fall {
            from {
                top: -50px;
            }
            to {
                top: 100vh;
            }
        }
        
        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
        }
        
        .game-over h2 {
            color: #8B4513;
            margin-bottom: 15px;
            font-size: 28px;
        }
        
        .game-over p {
            color: #654321;
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .restart-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            color: #8B4513;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .restart-btn:hover {
            transform: scale(1.1);
        }
        
        .instructions {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #8B4513;
            font-size: 14px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }
        
        .cloud {
            position: absolute;
            color: white;
            font-size: 40px;
            animation: float 8s infinite linear;
            opacity: 0.8;
        }
        
        @keyframes float {
            from {
                left: -60px;
            }
            to {
                left: 100vw;
            }
        }
    </style>
</head>
<body>
    <div class="name-credit">Punyaphon Yawongsa</div>
    
    <div class="game-container">
        <div class="score-board">
            <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
            <div>‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï: <span id="lives">üíùüíùüíù</span></div>
        </div>
        
        <div class="bear" id="bear">üêª</div>
        
        <div class="game-over" id="gameOver">
            <h2>‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! üêª</h2>
            <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="finalScore">0</span></p>
            <p>‡∏´‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏´‡∏¥‡∏ß‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß!</p>
            <button class="restart-btn" onclick="restartGame()">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà üçØ</button>
        </div>
        
        <div class="instructions">
            ‡πÉ‡∏ä‡πâ‡∏•‡∏π‡∏Å‡∏®‡∏£ ‚Üê‚Üí ‡∏´‡∏£‡∏∑‡∏≠ A D ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà | ‡πÄ‡∏Å‡πá‡∏ö‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á üçØ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏´‡∏¥‡∏ô ü™®
        </div>
    </div>

    <script>
        const bear = document.getElementById('bear');
        const scoreElement = document.getElementById('score');
        const livesElement = document.getElementById('lives');
        const gameOverDiv = document.getElementById('gameOver');
        const finalScoreElement = document.getElementById('finalScore');
        
        let bearPosition = 50;
        let score = 0;
        let lives = 3;
        let gameRunning = true;
        let gameObjects = [];
        let cloudTimer = 0;
        
        // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå (‡πÉ‡∏ä‡πâ Web Audio API)
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(frequency, duration, type = 'sine') {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        
        // ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏°‡∏µ
        function moveBear(direction) {
            if (!gameRunning) return;
            
            if (direction === 'left' && bearPosition > 5) {
                bearPosition -= 5;
            } else if (direction === 'right' && bearPosition < 95) {
                bearPosition += 5;
            }
            bear.style.left = bearPosition + '%';
        }
        
        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowLeft':
                case 'a':
                case 'A':
                    moveBear('left');
                    break;
                case 'ArrowRight':
                case 'd':
                case 'D':
                    moveBear('right');
                    break;
            }
        });
        
        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)
        let touchStartX = 0;
        document.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });
        
        document.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touchCurrentX = e.touches[0].clientX;
            const diff = touchCurrentX - touchStartX;
            
            if (Math.abs(diff) > 20) {
                if (diff > 0) {
                    moveBear('right');
                } else {
                    moveBear('left');
                }
                touchStartX = touchCurrentX;
            }
        });
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á
        function createHoney() {
            const honey = document.createElement('div');
            honey.className = 'honey';
            honey.innerHTML = 'üçØ';
            honey.style.left = Math.random() * 90 + 5 + '%';
            honey.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.querySelector('.game-container').appendChild(honey);
            
            gameObjects.push({
                element: honey,
                type: 'honey'
            });
        }
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ
        function createObstacle() {
            const obstacle = document.createElement('div');
            obstacle.className = 'obstacle';
            obstacle.innerHTML = 'ü™®';
            obstacle.style.left = Math.random() * 90 + 5 + '%';
            obstacle.style.animationDuration = (Math.random() * 2 + 2) + 's';
            document.querySelector('.game-container').appendChild(obstacle);
            
            gameObjects.push({
                element: obstacle,
                type: 'obstacle'
            });
        }
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏Ü
        function createCloud() {
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.innerHTML = '‚òÅÔ∏è';
            cloud.style.top = Math.random() * 30 + 10 + '%';
            document.querySelector('.game-container').appendChild(cloud);
            
            setTimeout(() => {
                if (cloud.parentNode) {
                    cloud.parentNode.removeChild(cloud);
                }
            }, 8000);
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏ô
        function checkCollisions() {
            const bearRect = bear.getBoundingClientRect();
            
            gameObjects.forEach((obj, index) => {
                const objRect = obj.element.getBoundingClientRect();
                
                if (bearRect.left < objRect.right &&
                    bearRect.right > objRect.left &&
                    bearRect.top < objRect.bottom &&
                    bearRect.bottom > objRect.top) {
                    
                    if (obj.type === 'honey') {
                        score += 10;
                        scoreElement.textContent = score;
                        playSound(800, 0.2);
                    } else if (obj.type === 'obstacle') {
                        lives--;
                        updateLives();
                        playSound(200, 0.5, 'square');
                        
                        if (lives <= 0) {
                            endGame();
                            return;
                        }
                    }
                    
                    obj.element.remove();
                    gameObjects.splice(index, 1);
                }
            });
        }
        
        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï
        function updateLives() {
            const hearts = ['üíùüíùüíù', 'üíùüíùüíî', 'üíùüíîüíî', 'üíîüíîüíî'];
            livesElement.textContent = hearts[3 - lives] || 'üíîüíîüíî';
        }
        
        // ‡∏•‡πâ‡∏≤‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏µ‡πà‡∏ï‡∏Å‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
        function cleanupObjects() {
            gameObjects.forEach((obj, index) => {
                if (obj.element.getBoundingClientRect().top > window.innerHeight) {
                    obj.element.remove();
                    gameObjects.splice(index, 1);
                }
            });
        }
        
        // ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
        function endGame() {
            gameRunning = false;
            finalScoreElement.textContent = score;
            gameOverDiv.style.display = 'block';
        }
        
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
        function restartGame() {
            gameRunning = true;
            score = 0;
            lives = 3;
            bearPosition = 50;
            
            scoreElement.textContent = score;
            updateLives();
            bear.style.left = bearPosition + '%';
            gameOverDiv.style.display = 'none';
            
            // ‡∏•‡πâ‡∏≤‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            gameObjects.forEach(obj => obj.element.remove());
            gameObjects = [];
            
            // ‡∏•‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏Ü
            document.querySelectorAll('.cloud').forEach(cloud => cloud.remove());
            
            cloudTimer = 0;
        }
        
        // ‡∏•‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°
        let lastTime = 0;
        let honeyTimer = 0;
        let obstacleTimer = 0;
        
        function gameLoop(currentTime) {
            if (!gameRunning) {
                requestAnimationFrame(gameLoop);
                return;
            }
            
            const deltaTime = currentTime - lastTime;
            lastTime = currentTime;
            
            honeyTimer += deltaTime;
            obstacleTimer += deltaTime;
            cloudTimer += deltaTime;
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡∏ó‡∏∏‡∏Å 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            if (honeyTimer > 1500) {
                createHoney();
                honeyTimer = 0;
            }
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ‡∏ó‡∏∏‡∏Å 2-4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            if (obstacleTimer > 2000 + Math.random() * 2000) {
                createObstacle();
                obstacleTimer = 0;
            }
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏Ü‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            if (cloudTimer > 3000) {
                createCloud();
                cloudTimer = 0;
            }
            
            checkCollisions();
            cleanupObjects();
            
            requestAnimationFrame(gameLoop);
        }
        
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        requestAnimationFrame(gameLoop);
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏Ü‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        setTimeout(() => createCloud(), 1000);
        setTimeout(() => createCloud(), 2000);
    </script>
</body>
</html>
